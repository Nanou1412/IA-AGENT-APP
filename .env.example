# ===========================================
# IA AGENT APP - Environment Variables
# ===========================================

# Database (Docker Compose provides this)
DATABASE_URL="postgresql://ia_agent:ia_agent_password@localhost:5432/ia_agent?schema=public"

# App URLs
NEXT_PUBLIC_APP_URL="http://localhost:3001"
NEXT_PUBLIC_MARKETING_URL="http://localhost:3000"

# ===========================================
# NextAuth Configuration
# ===========================================

# Required: Base URL for NextAuth
NEXTAUTH_URL="http://localhost:3001"

# Required: Secret for JWT encryption (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET="your-nextauth-secret-here-change-in-production"

# ===========================================
# Email Provider (Optional in dev)
# ===========================================

# SMTP settings for magic link emails
# Leave empty to use dev credentials mode
SMTP_HOST=""
SMTP_PORT="587"
SMTP_USER=""
SMTP_PASS=""
EMAIL_FROM="noreply@example.com"

# ===========================================
# Development Mode
# ===========================================

# Enable dev credentials login (email: dev@local, password: dev)
# Only works when NODE_ENV=development
AUTH_DEV_CREDENTIALS="true"

# ===========================================
# Admin Configuration
# ===========================================

# Email address(es) for admin access (comma-separated for multiple)
# In dev mode, dev@local is automatically an admin
ADMIN_EMAIL="your-admin@email.com"

# ===========================================
# Stripe Billing
# ===========================================

# Stripe API Keys (use TEST keys for development)
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Stripe Price IDs (create in Stripe Dashboard)
STRIPE_SETUP_FEE_PRICE_ID="price_..."
STRIPE_WEEKLY_SUB_PRICE_ID="price_..."

# ===========================================
# Twilio Messaging
# ===========================================

# Twilio Account Credentials (from twilio.com/console)
# NEVER expose AUTH_TOKEN on the client side
TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="your-auth-token-here"

# Optional: Twilio Messaging Service SID (for advanced routing)
# TWILIO_MESSAGING_SERVICE_SID="MGxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Webhook paths (optional, for reference - default values shown)
# TWILIO_SMS_WEBHOOK_PATH="/api/twilio/sms"
# TWILIO_WHATSAPP_WEBHOOK_PATH="/api/twilio/whatsapp"

# ===========================================
# OpenAI
# ===========================================

# OpenAI API Key (required for AI engine)
OPENAI_API_KEY="sk-..."

# ===========================================
# Redis (Upstash) - REQUIRED IN PRODUCTION
# ===========================================

# Upstash Redis REST credentials (from upstash.com)
# These are REQUIRED in production for rate limiting and caching
UPSTASH_REDIS_REST_URL="REPLACE_ME"
UPSTASH_REDIS_REST_TOKEN="REPLACE_ME"

# ===========================================
# Token Encryption - REQUIRED IN PRODUCTION
# ===========================================

# 32-byte key for AES-256-GCM encryption of OAuth tokens
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
TOKENS_ENCRYPTION_KEY="REPLACE_ME_BASE64_32_BYTES"

# ===========================================
# Internal API Security
# ===========================================

# API key for server-to-server communication (realtime-server -> app)
# Generate with: openssl rand -base64 32
INTERNAL_API_KEY="REPLACE_ME"

# ===========================================
# Realtime Voice Server (Optional)
# ===========================================

# URL of the OpenAI Realtime Voice Server (Railway)
# Leave empty to use fallback STT/TTS mode
REALTIME_SERVER_URL=""

# ===========================================
# Logging
# ===========================================

# Log level: debug, info, warn, error
LOG_LEVEL="info"
