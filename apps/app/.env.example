# ===========================================
# IA AGENT APP - App Environment Variables
# ===========================================

# Database
DATABASE_URL="postgresql://ia_agent:ia_agent_password@localhost:5432/ia_agent?schema=public"

# NextAuth
NEXTAUTH_URL="http://localhost:3001"
NEXTAUTH_SECRET="dev-secret-change-in-production"

# Email Provider (optional in dev)
SMTP_HOST=""
SMTP_PORT="587"
SMTP_USER=""
SMTP_PASS=""
EMAIL_FROM="noreply@example.com"

# Dev Mode
AUTH_DEV_CREDENTIALS="true"

# Admin
ADMIN_EMAIL="your-admin@email.com"

# App URL (for redirects)
NEXT_PUBLIC_APP_URL="http://localhost:3001"

# ===========================================
# Stripe Billing
# ===========================================
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Stripe Price IDs (create in Stripe Dashboard)
STRIPE_SETUP_FEE_PRICE_ID="price_setup_fee_xxx"
STRIPE_WEEKLY_SUBSCRIPTION_PRICE_ID="price_weekly_xxx"

# ===========================================
# Twilio (Messaging + Voice)
# ===========================================
TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_MESSAGING_SERVICE_SID=""

# Voice webhook paths (relative to NEXT_PUBLIC_APP_URL)
TWILIO_VOICE_WEBHOOK_PATH="/api/twilio/voice"
TWILIO_VOICE_STATUS_WEBHOOK_PATH="/api/twilio/voice/status"

# Optional: Enable call recording by default (privacy consideration)
TWILIO_RECORDINGS_ENABLED_DEFAULT="false"

# ===========================================
# AI Engine (Phase 6)
# ===========================================
OPENAI_API_KEY="sk-..."
OPENAI_DEFAULT_MODEL="gpt-4o"
OPENAI_LOW_COST_MODEL="gpt-4o-mini"

# Engine Limits
ENGINE_MAX_TURNS=20
ENGINE_MAX_OUTPUT_TOKENS=400
ENGINE_MAX_INPUT_TOKENS=3000
ENGINE_RATE_LIMIT_PER_MINUTE=60

# ===========================================
# Google OAuth (Phase 7.1 - Calendar Integration)
# ===========================================
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_REDIRECT_URI="http://localhost:3001/api/google/oauth/callback"
GOOGLE_OAUTH_SCOPES="https://www.googleapis.com/auth/calendar"

# ===========================================
# Token Encryption (Phase 7.1)
# ===========================================
# 32 bytes = 256 bits for AES-256-GCM
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
TOKENS_ENCRYPTION_KEY="your-32-byte-base64-encoded-key-here"

# ===========================================
# Stripe Order Payments (Phase 7.3)
# ===========================================
# Enable order payments via Stripe Checkout
STRIPE_ORDER_PAYMENTS_ENABLED="true"
# Default currency for order payments
STRIPE_ORDER_CURRENCY="AUD"
# Default product name shown in Stripe Checkout
STRIPE_ORDER_PRODUCT_NAME_DEFAULT="Takeaway order"
# Success/cancel URLs - {ORDER_ID} will be replaced with actual order ID
STRIPE_ORDER_SUCCESS_URL="/app/orders/{ORDER_ID}?paid=1"
STRIPE_ORDER_CANCEL_URL="/app/orders/{ORDER_ID}?canceled=1"
